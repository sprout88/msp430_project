2-1. P2.1 을 누르면, ADC 값 출력.

adc 값을 직접 측정해보니,

시계방향으로 끝까지 돌리면(11시) 1081,
반시계방향으로 끝까지 돌리면(1시) 4095

이때, 0~2 까지 매핑되어야하므로,

1081 ~ 4095 를 0~2 로 선형보간하면 된다.

근데 이때, mcu 에서는 float 이나 double 등을 사용하지 못하므로,

int 로만 처리하기 위한 처리를 했다.

4095-1081 = 3014 이고, 3014 를 20등분하면 약 150.7 이다.

오류처리 => 입력값이 4095 와 1081 사이에 있는지 우선 검사한 후, 범위 밖에 있으면 오류인 1111을 출력한다.

입력값이 올바른 범위에 있으면, 입력값-1081 을 한 후, 150.7 이 몇번 있는지 구한다.

이때, 나누기 연산을 피하기 위하여, for 문을 사용하여 순회한다.



2-2 토글할때, p4.7 led 와 p4의 segment 가 겹침.
-> 전역변수를 통해 led 의 on off state 에 따라 segment 를 분기하여 해결

2-3

모터 pwm 차이값에 따른 모터 회전
0~300 : 회전 안함
1000  : 최고속도 도달